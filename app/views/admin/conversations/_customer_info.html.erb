<div data-controller="reveal" data-reflex-permanent>
  <div data-reveal-target="toggler" data-action="click->reveal#toggle" class="absolute right-0 flex items-center justify-center h-12 p-4 transform -translate-y-1/2 bg-white rounded-l-lg shadow cursor-pointer top-1/2">
    <svg class="w-5 text-blue-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
      <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd" />
    </svg>
  </div>
  <div data-reveal-target="item" class="hidden h-full ml-6 -mr-6 bg-white border border-gray-200 w-72 rounded-tl-md rounded-bl-md">
    <div class="flex border-b">
      <div class="flex flex-col items-center justify-center w-1/2 py-5 text-xs border-r">
        <svg class="w-5 h-5 mb-2 text-blue-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" />
        </svg>
        <h5>User Information</h5>
      </div>
      <div class="flex flex-col items-center justify-center w-1/2 py-5 text-xs text-gray-400">
        <svg class="w-5 h-5 mb-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z" clip-rule="evenodd" />
        </svg>
        <h5>Conversations</h5>
      </div>
    </div>
    <div class="p-4">
      <%= form_with model: customer, url: '' do |f| %>
        <div class="mb-5">
          <%= f.label :name, class: "block mb-1 text-sm text-gray-400" %>
          <%= f.text_field :name, class: "w-full py-1 text-sm border-b border-gray-200 focus:outline-none focus:border-b focus:border-purple-600", data: { reflex: "debounced:input->Customer#update" } %>
        </div>
        <div class="mb-5">
          <%= f.label :email, class: "block mb-1 text-sm text-gray-400" %>
          <%= f.text_field :email, class: "w-full py-1 text-sm border-b border-gray-200 focus:outline-none focus:border-b focus:border-purple-600", data: { reflex: "debounced:input->Customer#update" } %>
        </div>
        <div class="mb-5">
          <%= f.label :phone_number, class: "block mb-1 text-sm text-gray-400" %>
          <%= f.text_field :phone_number, class: "w-full py-1 text-sm border-b border-gray-200 focus:outline-none focus:border-b focus:border-purple-600", data: { reflex: "debounced:input->Customer#update" } %>
        </div>
      <% end %>
    </div>
    <div class="p-4 pt-0">
      <div class="flex justify-between mb-4">
        <h6 class="text-sm text-gray-400">Tags</h6>
        <%= futurize partial: "admin/conversations/add_tag", locals: { tags: tags, conversation_id: conversation.id, current_account: current_account }, eager: true, extends: :div do %>
          Loading...
        <% end %>
      </div>
      <div id="tags">
        <%= futurize partial: "admin/conversations/tags", locals: { tags: tags }, eager: true, extends: :div do %>
          Loading...
        <% end %>
      </div>
    </div>
  </div>
</div>
